@page
@model PortalArcomix.Pages.FornecedorVEModel
@{
    ViewData["Title"] = "FornecedorVE";
    Layout = "_Layout";
}

@if (Model.Fornecedor != null)
{
    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar Column -->
            <div class="col-md-1 sidebar">
                @* Sidebar items refactored into a loop *@
                @{
                    var sidebarItems = new List<(string Link, string Icon, string Text)>
            {
            ("#DadosFornecedorCadastro", "fa-user", "Dados Fornecedor"),
            ("#DadosFiscaisCadastro", "fa-rectangle-list", "Dados Fiscais"),
            ("#DadosBancariosCadastro", "fa-money-check", "Dados Bancarios"),
            ("#ContatosCadastro", "fa-phone", "Contatos"),
            ("#NegociacaoFornecedor", "fa-file", "Negociação"),
            ("#SegurancaAlimentos", "fa-file", "Segurança Alimentos")
            };
                }
                @foreach (var item in sidebarItems)
                {
                    <div class="sidebar-item">
                        <a href="@item.Link" class="sidebar-link">
                            <i class="sidebar-icon fa @item.Icon"></i>
                            <span class="sidebar-text">@item.Text</span>
                        </a>
                    </div>
                }
            </div>

            <!-- Main Content Column -->
            <div class="col-md-11">
                <form method="post" onsubmit="return showSuccessMessage()">
                    <br />
                    <!-- Dados Fornecedor Card -->
                    <div class="card" id="DadosFornecedorCadastro">
                        <div class="card-body">
                            <div class="row">
                                <div class="col">
                                    <h4 style="color: #1878BB; margin-bottom: 20px;">Dados do Fornecedor</h4>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col">
                                    <hr />
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-2">
                                    <label class="control-label">CNPJ</label>
                                    <div class="form-group mb-3">
                                        <input asp-for="Fornecedor.CNPJ" class="form-control" readonly />
                                        <span asp-validation-for="Fornecedor.CNPJ" class="text-danger"></span>
                                    </div>
                                </div>
                                <div class="col-md-5">
                                    <label class="control-label">Razão Social</label>
                                    <div class="form-group mb-3">
                                        <input asp-for="Fornecedor.RAZAOSOCIAL" id="Fornecedor_RAZAOSOCIAL" class="form-control" onblur="validateRazaoSocial()" />
                                        <span asp-validation-for="Fornecedor.RAZAOSOCIAL" class="text-danger"></span>
                                    </div>
                                </div>
                                <div class="col-md-5">
                                    <label class="control-label">Fantasia</label>
                                    <div class="form-group mb-3">
                                        <input asp-for="Fornecedor.FANTASIA" id="Fornecedor_FANTASIA" class="form-control" onblur="validateFantasia()" />
                                        <span asp-validation-for="Fornecedor.FANTASIA" class="text-danger"></span>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-1">
                                    <label class="control-label">IE</label>
                                    <div class="form-group mb-3">
                                        <input asp-for="Fornecedor.IE" id="Fornecedor_IE" class="form-control validate-required" onblur="validateIE()" />
                                        <span asp-validation-for="Fornecedor.IE" class="text-danger"></span>
                                    </div>
                                </div>
                                <div class="col-md-1">
                                    <label class="control-label">CNAE</label>
                                    <div class="form-group mb-3">
                                        <input asp-for="Fornecedor.CNAE" id="Fornecedor_CNAE" class="form-control validate-required" onblur="validateCNAE()" />
                                        <span asp-validation-for="Fornecedor.CNAE" class="text-danger"></span>
                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <label class="control-label">CEP</label>
                                    <div class="form-group mb-3">
                                        <input asp-for="Fornecedor.CEP" class="form-control validate-required" id="Fornecedor_CEP" onblur="fetchAddress(); validateCEP()" />
                                        <span asp-validation-for="Fornecedor.CEP" class="text-danger"></span>
                                    </div>
                                </div>
                                <div class="col-md-7">
                                    <label class="control-label">Logradouro</label>
                                    <div class="form-group mb-3">
                                        <input asp-for="Fornecedor.LOGRADOURO" class="form-control validate-required" id="Fornecedor_LOGRADOURO" onblur="validateLogradouro()" />
                                        <span asp-validation-for="Fornecedor.LOGRADOURO" class="text-danger"></span>
                                    </div>
                                </div>
                                <div class="col-md-1">
                                    <label class="control-label">Número</label>
                                    <div class="form-group mb-3">
                                        <input asp-for="Fornecedor.NUMEROENDERECO" class="form-control" />
                                        <span asp-validation-for="Fornecedor.NUMEROENDERECO" class="text-danger"></span>
                                    </div>
                                </div>
                            </div>

                            <!-- New Row -->
                            <div class="row">
                                <div class="col-md-2">
                                    <label class="control-label">Bairro</label>
                                    <div class="form-group mb-3">
                                        <input asp-for="Fornecedor.BAIRRO" id="Fornecedor_BAIRRO" class="form-control validate-required" onblur="validateBairro()" />
                                        <span asp-validation-for="Fornecedor.BAIRRO" class="text-danger"></span>
                                    </div>
                                </div>

                                <div class="col-md-4">
                                    <label class="control-label">Complemento</label>
                                    <div class="form-group mb-3">
                                        <input asp-for="Fornecedor.COMPLEMENTO" class="form-control" />
                                        <span asp-validation-for="Fornecedor.COMPLEMENTO" class="text-danger"></span>
                                    </div>
                                </div>

                                <div class="col-md-1">
                                    <label for="idUF" class="control-label">UF</label>
                                    <div class="form-group mb-3">
                                        <select asp-for="Fornecedor.UF" class="form-control validate-required" id="Fornecedor_UF">
                                            <option value="">Selecione</option>
                                            @foreach (var uf in new List<string> { "AC", "AL", "AP", "AM", "BA", "CE", "DF", "ES", "GO", "MA", "MT", "MS", "MG", "PA", "PB", "PR", "PE", "PI", "RJ", "RN", "RS", "RO", "RR", "SC", "SP", "SE", "TO" })
                                            {
                                                <option value="@uf" selected="@(Model.Fornecedor.UF == uf)">@uf</option>
                                            }
                                        </select>
                                        <span asp-validation-for="Fornecedor.UF" class="text-danger"></span>
                                    </div>
                                </div>

                                <div class="col-md-5">
                                    <label class="control-label">Cidade</label>
                                    <div class="form-group mb-3">
                                        <input asp-for="Fornecedor.CIDADE" id="Fornecedor_CIDADE" class="form-control validate-required" onblur="validateCidade()" />
                                        <span asp-validation-for="Fornecedor.CIDADE" class="text-danger"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <br />

                    <!-- Dados Fiscais Card -->
                    <div class="card" id="DadosFiscaisCadastro">
                        <div class="card-body">
                            <div class="row">
                                <div class="col">
                                    <h4 style="color: #1878BB; margin-bottom: 20px;">Dados Fiscais</h4>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col">
                                    <hr />
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-2">
                                    <label class="control-label">Micro Empresa</label>
                                    <div class="form-group mb-3">
                                        <select asp-for="Fornecedor.MICROEMPRESA" class="form-control validate-required" id="Fornecedor_MICROEMPRESA" onblur="validateSelect('Fornecedor_MICROEMPRESA')">
                                            <option value="">Selecione</option>
                                            <option value="SIM ">SIM</option>
                                            <option value="NÃO">NÃO</option>
                                        </select>
                                        <span asp-validation-for="Fornecedor.MICROEMPRESA" class="text-danger"></span>
                                    </div>
                                </div>

                                <div class="col-md-2">
                                    <label class="control-label">Contribui ICMS</label>
                                    <div class="form-group mb-3">
                                        <select asp-for="Fornecedor.CONTRIBUIICMS" class="form-control validate-required" id="Fornecedor_CONTRIBUIICMS" onblur="validateSelect('Fornecedor_CONTRIBUIICMS')">
                                            <option value="">Selecione</option>
                                            <option value="SIM ">SIM</option>
                                            <option value="NÃO">NÃO</option>
                                        </select>
                                        <span asp-validation-for="Fornecedor.CONTRIBUIICMS" class="text-danger"></span>
                                    </div>
                                </div>

                                <div class="col-md-2">
                                    <label class="control-label">Contribui IPI</label>
                                    <div class="form-group mb-3">
                                        <select asp-for="Fornecedor.CONTRIBUIIPI" class="form-control validate-required" id="Fornecedor_CONTRIBUIIPI" onblur="validateSelect('Fornecedor_CONTRIBUIIPI')">
                                            <option value="">Selecione</option>
                                            <option value="SIM ">SIM</option>
                                            <option value="NÃO">NÃO</option>
                                        </select>
                                        <span asp-validation-for="Fornecedor.CONTRIBUIIPI" class="text-danger"></span>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <label class="control-label">Tipo de Fornecedor</label>
                                    <div class="form-group mb-3">
                                        <select asp-for="Fornecedor.TIPOFORNECEDOR" class="form-control validate-required" id="Fornecedor_TIPOFORNECEDOR" onblur="validateSelect('Fornecedor_TIPOFORNECEDOR')">
                                            <option value="">Selecione</option>
                                            <option value="Distribuidor">Distribuidor</option>
                                            <option value="Industria">Industria</option>
                                            <option value="Transportadora">Transportadora</option>
                                        </select>
                                        <span asp-validation-for="Fornecedor.TIPOFORNECEDOR" class="text-danger"></span>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6">
                                    <label class="control-label">Fornecedor de Alimentos</label>
                                    <div class="form-group mb-3">
                                        <select asp-for="Fornecedor.FORNECEDORALIMENTOS" class="form-control validate-required" id="Fornecedor_FORNECEDORALIMENTOS" onblur="validateSelect('Fornecedor_FORNECEDORALIMENTOS')" onchange="toggleSegurancaAlimentosCard()">
                                            <option value="">Selecione</option>
                                            <option value="Alimentos Industrializados">Alimentos Industrializados</option>
                                            <option value="Alimentos Não Industrializados">Alimentos Não Industrializados</option>
                                            <option value="Não Fornece Alimentos">Não Fornece Alimentos</option>
                                        </select>
                                        <span asp-validation-for="Fornecedor.FORNECEDORALIMENTOS" class="text-danger"></span>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <label class="control-label">Comprador Arco-Mix Principal</label>
                                    <div class="form-group mb-3">
                                        <select asp-for="Fornecedor.COMPRADORPRINCIPAL" class="form-control validate-required" id="Fornecedor_COMPRADORPRINCIPAL" onblur="validateSelect('Fornecedor_COMPRADORPRINCIPAL')">
                                            <option value="">Selecione</option>
                                            <option value="Ana Sales">Ana Sales</option>
                                            <option value="Bruno Santos">Bruno Santos</option>
                                            <option value="Carlos Costa">Carlos Costa</option>
                                            <option value="DoCarmo">DoCarmo</option>
                                            <option value="Hugo Souza">Hugo Souza</option>
                                            <option value="João Vieira">João Vieira</option>
                                            <option value="Juliana Maria">Juliana Maria</option>
                                            <option value="Juliana Medeiros">Juliana Medeiros</option>
                                            <option value="Melque">Melque</option>
                                            <option value="Raphael Mendes">Raphael Mendes</option>
                                            <option value="Gilberto">Gilberto</option>
                                        </select>
                                        <span asp-validation-for="Fornecedor.COMPRADORPRINCIPAL" class="text-danger"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <br />

                    <!-- Dados Bancarios Card -->
                    <div class="card" id="DadosBancariosCadastro">
                        <div class="card-body">
                            <div class="row">
                                <div class="col">
                                    <h4 style="color: #1878BB; margin-bottom: 20px;">Dados Bancarios</h4>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col">
                                    <hr />
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-3">
                                    <label for="Banco">Banco:</label>
                                    <div class="form-group mb-3">
                                        <select class="form-control validate-required" id="Banco" asp-for="DadosBancarios.BANCO" onblur="validateSelect('Banco')">
                                            <option value="">Selecione</option>
                                            <option value="001 - Banco do Brasil">001 - Banco do Brasil</option>
                                            <option value="033 - Santander">033 - Santander</option>
                                            <option value="104 - Caixa Econômica Federal">104 - Caixa Econômica Federal</option>
                                            <option value="237 - Bradesco">237 - Bradesco</option>
                                            <option value="341 - Itaú Unibanco">341 - Itaú Unibanco</option>
                                            <option value="399 - HSBC">399 - HSBC</option>
                                            <option value="745 - Citibank">745 - Citibank</option>
                                            <option value="389 - Mercantil do Brasil">389 - Mercantil do Brasil</option>
                                            <option value="422 - Safra">422 - Safra</option>
                                            <option value="041 - Banrisul">041 - Banrisul</option>
                                            <option value="070 - Banco de Brasília (BRB)">070 - Banco de Brasília (BRB)</option>
                                            <option value="077 - Banco Inter">077 - Banco Inter</option>
                                            <option value="237 - Banco Bradesco BBI S.A.">237 - Banco Bradesco BBI S.A.</option>
                                            <option value="756 - Sicoob">756 - Sicoob</option>
                                            <option value="748 - Sicredi">748 - Sicredi</option>
                                            <option value="212 - Banco Original">212 - Banco Original</option>
                                            <option value="260 - Nu Pagamentos (Nubank)">260 - Nu Pagamentos (Nubank)</option>
                                            <option value="290 - Pagseguro">290 - Pagseguro</option>
                                            <option value="380 - PicPay">380 - PicPay</option>
                                            <option value="323 - Mercado Pago">323 - Mercado Pago</option>
                                            <option value="332 - Acesso">332 - Acesso</option>
                                            <option value="077 - Banco Inter">077 - Banco Inter</option>
                                            <option value="208 - BTG Pactual">208 - BTG Pactual</option>
                                            <option value="136 - Unicred">136 - Unicred</option>
                                        </select>
                                        <span asp-validation-for="DadosBancarios.BANCO" class="text-danger"></span>
                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <label for="Agencia">Agencia</label>
                                    <div class="form-group mb-3">
                                        <input type="text" class="form-control validate-required" id="Agencia" asp-for="DadosBancarios.AGENCIA" onblur="validateAgencia()" />
                                        <span asp-validation-for="DadosBancarios.AGENCIA" class="text-danger"></span>
                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <label for="TIPOCONTA">Tipo de Conta</label>
                                    <div class="form-group mb-3">
                                        <select class="form-control validate-required" id="TIPOCONTA" asp-for="DadosBancarios.TIPOCONTA" onblur="validateSelect('TIPOCONTA')">
                                            <option value="">Selecione</option>
                                            <option value="Pessoa Juridica">Pessoa Juridica</option>
                                            <option value="Pessoa Fisica">Pessoa Fisica</option>
                                            <option value="Poupança">Poupança</option>
                                            <option value="Conta Investimento">Conta Investimento</option>
                                        </select>
                                        <span asp-validation-for="DadosBancarios.TIPOCONTA" class="text-danger"></span>
                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <label for="NumeroConta">Nº Conta:</label>
                                    <div class="form-group mb-3">
                                        <input type="text" class="form-control validate-required" id="NumeroConta" asp-for="DadosBancarios.NUMEROCONTA" onblur="validateNumeroConta()" />
                                        <span asp-validation-for="DadosBancarios.NUMEROCONTA" class="text-danger"></span>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <label for="CNPJContaTitular">CNPJ Titular Conta:</label>
                                    <div class="form-group mb-3">
                                        <input type="text" class="form-control validate-required" id="CNPJContaTitular" asp-for="DadosBancarios.CNPJCONTATITULAR" onblur="validateCNPJContaTitular()" />
                                        <span asp-validation-for="DadosBancarios.CNPJCONTATITULAR" class="text-danger"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <br />


                    <!-- Contatos Card -->
                    <div class="card" id="ContatosCadastro">
                        <div class="card-body">
                            <div class="row">
                                <div class="col">
                                    <h4 style="color: #1878BB; margin-bottom: 20px;">Contatos</h4>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col">
                                    <hr>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4">
                                    <label for="CONTATOVENDEDOR">Vendedor:</label>
                                    <div class="form-group mb-3">
                                        <input type="text" class="form-control validate-required" id="CONTATOVENDEDOR" asp-for="Contatos.CONTATOVENDEDOR" onblur="validateContatoVendedor()" />
                                        <span asp-validation-for="Contatos.CONTATOVENDEDOR" class="text-danger"></span>
                                    </div>
                                </div>
                                <div class="col-md-1">
                                    <label for="DDDVENDEDOR">DDD</label>
                                    <div class="form-group mb-3">
                                        <input type="text" class="form-control validate-required" id="DDDVENDEDOR" asp-for="Contatos.DDDVENDEDOR" onblur="validateDDDVendedor()" />
                                        <span asp-validation-for="Contatos.DDDVENDEDOR" class="text-danger"></span>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <label for="TELEFONEVENDEDOR">Telefone</label>
                                    <div class="form-group mb-3">
                                        <input type="text" class="form-control validate-required" id="TELEFONEVENDEDOR" asp-for="Contatos.TELEFONEVENDEDOR" onblur="validateTelefoneVendedor()" />
                                        <span asp-validation-for="Contatos.TELEFONEVENDEDOR" class="text-danger"></span>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <label for="EMAILVENDEDOR">Email</label>
                                    <div class="form-group mb-3">
                                        <input type="email" class="form-control validate-required" id="EMAILVENDEDOR" asp-for="Contatos.EMAILVENDEDOR" onblur="validateEmailVendedor()" />
                                        <span asp-validation-for="Contatos.EMAILVENDEDOR" class="text-danger"></span>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4">
                                    <label for="CONTATOGERENTE">Gerente:</label>
                                    <div class="form-group mb-3">
                                        <input type="text" class="form-control validate-required" id="CONTATOGERENTE" asp-for="Contatos.CONTATOGERENTE" onblur="validateContatoGerente()" />
                                        <span asp-validation-for="Contatos.CONTATOGERENTE" class="text-danger"></span>
                                    </div>
                                </div>
                                <div class="col-md-1">
                                    <label for="DDDGERENTE">DDD</label>
                                    <div class="form-group mb-3">
                                        <input type="text" class="form-control validate-required" id="DDDGERENTE" asp-for="Contatos.DDDGERENTE" onblur="validateDDDGereente()" />
                                        <span asp-validation-for="Contatos.DDDGERENTE" class="text-danger"></span>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <label for="TELEFONEGERENTE">Telefone</label>
                                    <div class="form-group mb-3">
                                        <input type="text" class="form-control validate-required" id="TELEFONEGERENTE" asp-for="Contatos.TELEFONEGERENTE" onblur="validateTelefoneGerente()" />
                                        <span asp-validation-for="Contatos.TELEFONEGERENTE" class="text-danger"></span>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <label for="EMAILGERENTE">Email</label>
                                    <div class="form-group mb-3">
                                        <input type="email" class="form-control validate-required" id="EMAILGERENTE" asp-for="Contatos.EMAILGERENTE" onblur="validateEmailGerente()" />
                                        <span asp-validation-for="Contatos.EMAILGERENTE" class="text-danger"></span>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4">
                                    <label for="RESPONSAVELFINANCEIRO">Responsável Financeiro:</label>
                                    <div class="form-group mb-3">
                                        <input type="text" class="form-control validate-required" id="RESPONSAVELFINANCEIRO" asp-for="Contatos.RESPONSAVELFINANCEIRO" onblur="validateResponsavelFinanceiro()" />
                                        <span asp-validation-for="Contatos.RESPONSAVELFINANCEIRO" class="text-danger"></span>
                                    </div>
                                </div>
                                <div class="col-md-1">
                                    <label for="DDDRESPFINANCEIRO">DDD</label>
                                    <div class="form-group mb-3">
                                        <input type="text" class="form-control validate-required" id="DDDRESPFINANCEIRO" asp-for="Contatos.DDDRESPFINANCEIRO" onblur="validateDDDRespFinanceiro()" />
                                        <span asp-validation-for="Contatos.DDDRESPFINANCEIRO" class="text-danger"></span>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <label for="TELEFONERESPFINANCEIRO">Telefone</label>
                                    <div class="form-group mb-3">
                                        <input type="text" class="form-control validate-required" id="TELEFONERESPFINANCEIRO" asp-for="Contatos.TELEFONERESPFINANCEIRO" onblur="validateTelefoneRespFinanceiro()" />
                                        <span asp-validation-for="Contatos.TELEFONERESPFINANCEIRO" class="text-danger"></span>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <label for="EMAILRESPFINANCEIRO">Email</label>
                                    <div class="form-group mb-3">
                                        <input type="email" class="form-control validate-required" id="EMAILRESPFINANCEIRO" asp-for="Contatos.EMAILRESPFINANCEIRO" onblur="validateEmailRespFinanceiro()" />
                                        <span asp-validation-for="Contatos.EMAILRESPFINANCEIRO" class="text-danger"></span>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4">
                                    <h6 style="color: #718288; margin-top: 30px; margin-left: 220px; font-weight: bold;">Telefone Fixo da Empresa:</h6>
                                </div>
                                <div class="col-md-1">
                                    <label for="DDDTELEFONEFIXOEMPRESA">DDD</label>
                                    <div class="form-group mb-3">
                                        <input type="text" class="form-control validate-required" id="DDDTELEFONEFIXOEMPRESA" asp-for="Contatos.DDDTELEFONEFIXOEMPRESA" onblur="validateDDDTelefoneFixoEmpresa()" />
                                        <span asp-validation-for="Contatos.DDDTELEFONEFIXOEMPRESA" class="text-danger"></span>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <label for="TELEFONEFIXOEMPRESA">Telefone</label>
                                    <div class="form-group mb-3">
                                        <input type="text" class="form-control validate-required" id="TELEFONEFIXOEMPRESA" asp-for="Contatos.TELEFONEFIXOEMPRESA" onblur="validateTelefoneFixoEmpresa()" />
                                        <span asp-validation-for="Contatos.TELEFONEFIXOEMPRESA" class="text-danger"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <br />

                    <!-- Card Seguranca Alimentos -->
                    <div class="card" id="SegurancaAlimentos" style="display: none;">
                        <div class="card-body">
                            <div class="row">
                                <div class="col">
                                    <h4 style="color: #1878BB; margin-bottom: 20px;">Segurança de Alimentos</h4>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col">
                                    <hr>
                                </div>
                            </div>
@*                             <div class="row">
                                <div class="col-md-2">
                                    <label for="idParecerSegurancaAlimentos">Parecer</label>
                                    <div class="form-group mb-3">
                                        <select asp-for="SegurancaAlimentos.PARECER" class="form-control" id="ParecerSegurancaAlimentos">
                                            <option value="">Escolher...</option>
                                            <option value="Aprovado">Aprovado</option>
                                            <option value="Não Aprovado">Não Aprovado</option>
                                            <option value="Pendência(s) Documentação">Pendência(s) Documentação</option>
                                        </select>
                                        <span asp-validation-for="SegurancaAlimentos.PARECER" class="text-danger"></span>
                                    </div>
                                </div>
                                <div class="col-md-10">
                                    <label for="idDescricaoAvaliacao">Descrição da Avaliação</label>
                                    <div class="form-group mb-3">
                                        <input asp-for="SegurancaAlimentos.DESCRICAOAVALIACAO" class="form-control" id="DescricaoAvaliacao" onblur="validateField('DescricaoAvaliacao')" />
                                        <span asp-validation-for="SegurancaAlimentos.DESCRICAOAVALIACAO" class="text-danger"></span>
                                    </div>
                                </div>
                            </div>
                            <hr /> *@
                            <div class="row">
                                <div class="col-md-4">
                                    <label for="idAtividadeEmpresaForn">Atividade da Empresa:</label>
                                    <div class="form-group mb-3">
                                        <input asp-for="SegurancaAlimentos.ATIVIDADEEMPRESA" class="form-control" id="AtividadeEmpresaForn" />
                                        <span asp-validation-for="SegurancaAlimentos.ATIVIDADEEMPRESA" class="text-danger"></span>
                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <label for="idOrgaoFiscalizacaoForn">Orgão de Fiscalização</label>
                                    <div class="form-group mb-3">
                                        <select asp-for="SegurancaAlimentos.ORGAOFISCALIZACAO" class="form-control" id="OrgaoFiscalizacaoForn">
                                            <option value="">Selecione</option>
                                            <option value="ADAGRO/SIE">ADAGRO/SIE</option>
                                            <option value="MAPA/SIF">MAPA/SIF</option>
                                            <option value="VISA SIM">VISA SIM</option>
                                            <option value="VISA Licença">VISA Licença</option>
                                        </select>
                                        <span asp-validation-for="SegurancaAlimentos.ORGAOFISCALIZACAO" class="text-danger"></span>
                                    </div>
                                </div>

                                <div class="col-md-2">
                                    <label for="idNumRegistroForn">Nº Registro</label>
                                    <div class="form-group mb-3">
                                        <input asp-for="SegurancaAlimentos.NUMEROREGISTROORGAO" class="form-control" id="NumRegistroForn" readonly/>
                                        <span asp-validation-for="SegurancaAlimentos.NUMEROREGISTROORGAO" class="text-danger"></span>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <label for="idResponsavelTecnico">Responsavel Técnico</label>
                                    <div class="form-group mb-3">
                                        <input asp-for="SegurancaAlimentos.RESPONSAVELTECNICO" class="form-control" id="ResponsavelTecnico" />
                                        <span asp-validation-for="SegurancaAlimentos.RESPONSAVELTECNICO" class="text-danger"></span>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-3">
                                    <label for="idRegRespTecnico">Registro Resp.Técnico</label>
                                    <div class="form-group mb-3">
                                        <input asp-for="SegurancaAlimentos.REGRESPTECNICO" class="form-control" id="RegRespTecnico"/>
                                        <span asp-validation-for="SegurancaAlimentos.REGRESPTECNICO" class="text-danger"></span>
                                    </div>
                                </div>

                                <div class="col-md-1">
                                    <label for="idTecnicoForn">DDD</label>
                                    <div class="form-group mb-3">
                                        <input asp-for="SegurancaAlimentos.DDDTECNICO" class="form-control" id="DDDTECNICO" />
                                        <span asp-validation-for="SegurancaAlimentos.DDDTECNICO" class="text-danger"></span>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <label for="idTelefoneTecnicoForn">Telefone</label>
                                    <div class="form-group mb-3">
                                        <input asp-for="SegurancaAlimentos.TELEFONETECNICO" class="form-control" id="TELEFONETECNICO"/>
                                        <span asp-validation-for="SegurancaAlimentos.TELEFONETECNICO" class="text-danger"></span>
                                    </div>
                                </div>
                                <div class="col-md-5">
                                    <label for="idEmailTecnicoForn">Email</label>
                                    <div class="form-group mb-3">
                                        <input asp-for="SegurancaAlimentos.EMAILTECNICO" class="form-control" id="EMAILTECNICO" />
                                        <span asp-validation-for="SegurancaAlimentos.EMAILTECNICO" class="text-danger"></span>
                                    </div>
                                </div>
                            </div>
                            <hr />
                            <div class="row">
                                <div class="col text-center">
                                    <p style="color: #ff0000; font-weight: bold;">** RESPONSÁVEL TÉCNICO DEVE RESPONDER À AVALIAÇÃO ABAIXO MARCANDO AS OPÇÕES QUE EXISTEM NA EMPRESA **</p>
                                </div>
                            </div>

                            <div class="row">

                                <div class="col-md-6">
                                    <input type="checkbox" asp-for="SegurancaAlimentos.BPFIMPLANTADOPRATICADO" />
                                    <label asp-for="SegurancaAlimentos.BPFIMPLANTADOPRATICADO">Boas Práticas de Fabricação Implantado e Praticado</label>
                                </div>
                                <div class="col-md-6">
                                    <input type="checkbox" asp-for="SegurancaAlimentos.SISTEMATRATAMENTORESIDUOS" />
                                    <label asp-for="SegurancaAlimentos.SISTEMATRATAMENTORESIDUOS">Sistema de Tratamento dos Resíduos Gerados pelo Estabelecimento</label>
                                </div>
                            </div>
                            <div class="row">

                                <div class="col-md-6">
                                    <input type="checkbox" asp-for="SegurancaAlimentos.CONTROLESAUDECOLABORADORES" />
                                    <label asp-for="SegurancaAlimentos.CONTROLESAUDECOLABORADORES">Controle de Saúde dos Colaboradores</label>
                                </div>
                                <div class="col-md-6">
                                    <input type="checkbox" asp-for="SegurancaAlimentos.CIPMIPIMPLEMENTADO" />
                                    <label asp-for="SegurancaAlimentos.CIPMIPIMPLEMENTADO">CIP/MIP implementado e monitorado</label>
                                </div>
                            </div>
                            <div class="row">

                                <div class="col-md-6">
                                    <input type="checkbox" asp-for="SegurancaAlimentos.SISTEMAIDENTIFICACAORASTREABILIDADE" />
                                    <label asp-for="SegurancaAlimentos.SISTEMAIDENTIFICACAORASTREABILIDADE">Sistema de Identificação e Rastreabilidade do Processo</label>
                                </div>
                                <div class="col-md-6">
                                    <input type="checkbox" asp-for="SegurancaAlimentos.PROCEDIMENTOPADRAOFABRICACAO" />
                                    <label asp-for="SegurancaAlimentos.PROCEDIMENTOPADRAOFABRICACAO">Sistema de Procedimento Padrão de Fabricação e/ou Manipulação</label>
                                </div>
                            </div>
                            <div class="row">

                                <div class="col-md-6">
                                    <input type="checkbox" asp-for="SegurancaAlimentos.CONTROLEQUALIDADEIMPLEMENTADO" />
                                    <label asp-for="SegurancaAlimentos.CONTROLEQUALIDADEIMPLEMENTADO">Controle de Qualidade implementado</label>
                                </div>
                                <div class="col-md-6">
                                    <input type="checkbox" asp-for="SegurancaAlimentos.PROCEDIMENTOPADRAORECEBIMENTO" />
                                    <label asp-for="SegurancaAlimentos.PROCEDIMENTOPADRAORECEBIMENTO">Sistema de Procedimento Padrão de Recebimento de Matéria Prima</label>
                                </div>
                            </div>
                            <div class="row">

                                <div class="col-md-6">
                                    <input type="checkbox" asp-for="SegurancaAlimentos.SISTEMATRATAMENTORECLAMACOES" />
                                    <label asp-for="SegurancaAlimentos.SISTEMATRATAMENTORECLAMACOES">Sistema de Tratamento das Reclamações dos Clientes</label>
                                </div>
                                <div class="col-md-6">
                                    <input type="checkbox" asp-for="SegurancaAlimentos.TRANSPORTEPROPRIO" />
                                    <label asp-for="SegurancaAlimentos.TRANSPORTEPROPRIO">Transporte Próprio</label>
                                </div>
                            </div>
                            <div class="row">

                                <div class="col-md-6">
                                    <input type="checkbox" asp-for="SegurancaAlimentos.FICHATECNICAPRODUTOS" />
                                    <label asp-for="SegurancaAlimentos.FICHATECNICAPRODUTOS">Ficha Técnica dos Produtos Produzidos</label>
                                </div>
                                <div class="col-md-6">
                                    <input type="checkbox" asp-for="SegurancaAlimentos.CONTROLEPRODUTOSNAOCONFORME" />
                                    <label asp-for="SegurancaAlimentos.CONTROLEPRODUTOSNAOCONFORME">Sistema de Controle de Produtos Não Conforme</label>
                                </div>
                            </div>
                            <div class="row">

                                <div class="col-md-6">
                                    <input type="checkbox" asp-for="SegurancaAlimentos.EXIGEHIGIENIZACAOCIP" />
                                    <label asp-for="SegurancaAlimentos.EXIGEHIGIENIZACAOCIP">Exige higienização e CIP em dia do Transporte Terceirizado</label>
                                </div>
                                <div class="col-md-6">
                                    <input type="checkbox" asp-for="SegurancaAlimentos.REGISTROSCOMPROVACAOSISTEMAS" />
                                    <label asp-for="SegurancaAlimentos.REGISTROSCOMPROVACAOSISTEMAS">Registros de Comprovação desses sistemas?</label>
                                </div>
                            </div>
                            <div class="row">

                                <div class="col-md-6">
                                    <input type="checkbox" asp-for="SegurancaAlimentos.LICENCASPERTINENTES" />
                                    <label asp-for="SegurancaAlimentos.LICENCASPERTINENTES">Todas as Licenças Pertinente ao Processo</label>
                                </div>
                                <div class="col-md-6">
                                    <input type="checkbox" asp-for="SegurancaAlimentos.ENVIAAMOSTRASCLIENTE" />
                                    <label asp-for="SegurancaAlimentos.ENVIAAMOSTRASCLIENTE">Envia Amostras para Cliente Quando Solicitado</label>
                                </div>
                            </div>
                            <div class="row">

                                <div class="col-md-12">
                                    <input type="checkbox" asp-for="SegurancaAlimentos.CONTROLEAGUAABASTECIMENTO" />
                                    <label asp-for="SegurancaAlimentos.CONTROLEAGUAABASTECIMENTO">Sistema de Controle da Água de Abastecimento e Residual no Estabelecimento</label>
                                </div>
                            </div>
                        </div>
                    </div>


                    <br />
                    <!-- Submit Button Row -->
                    <div class="row">
                        <div class="col">
                            <button type="submit" class="btn btn-primary">Salvar Alterações</button>

                        </div>
                    </div>
                    <br />
                    <!-- Add other sections similarly with proper IDs and structure -->
                </form>

                <div class="container mt-5 mb-5">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="card">
                                <div class="card-body">
                                    <h4 class="card-title text-primary">Documentos</h4>
                                    <p class="card-text text-danger">Documentos Obrigatórios: <strong>SINTEGRA</strong></p>
                                    <form method="post" enctype="multipart/form-data" class="row" asp-page-handler="Upload">
                                        <div class="col-md-4 mb-2">
                                            <label class="control-label">Documento</label>
                                            <div class="form-group mb-3">
                                                <select asp-for="TIPODOCUMENTO" class="form-control" id="TIPODOCUMENTO">
                                                    <option value="">Escolher...</option>
                                                    <option value="SINTEGRA">SINTEGRA</option>
                                                    <option value="Documentação Sanitária">Documentação Sanitária</option>
                                                    <option value="Documentação Ambiental ou Operacional">Documentação Ambiental ou Operacional</option>
                                                    <option value="Documentação Controle de Pragas">Documentação Controle de Pragas</option>
                                                    <option value="Documentação Controle de Água">Documentação Controle de Água</option>
                                                    <option value="Documentação Manual Boas Práticas">Documentação Manual Boas Práticas</option>
                                                    <option value="Documentação Segurança de Alimentos">Documentação Segurança de Alimentos</option>
                                                    <option value="Documentação PAC">Documentação PAC</option>
                                                    <option value="Documentação APPCC">Documentação APPCC</option>
                                                </select>
                                                <span asp-validation-for="TIPODOCUMENTO" class="text-danger"></span>
                                            </div>
                                        </div>
                                        <div class="col-md-4 mb-2">
                                            <label for="fileUpload" class="sr-only">Escolher</label>
                                            <input asp-for="UploadedFile" class="form-control" type="file" id="fileUpload" accept="application/pdf" placeholder="Escolher" />
                                            <span asp-validation-for="UploadedFile" class="text-danger"></span>
                                        </div>
                                        <div class="col-md-4 mb-2 d-flex align-items-end">
                                            <button type="submit" class="btn btn-primary w-100">Enviar</button>
                                        </div>
                                    </form>

                                    <hr />

                                    <div class="mt-4">
                                        <h5 class="text-primary">Documentos Enviados</h5>
                                        <div class="row">
                                            <div class="col-md-8">
                                                @if (Model.UploadedFiles?.Count > 0)
                                                {
                                                    <table class="table table-bordered">
                                                        <thead>
                                                            <tr>
                                                                <th>Nome do Arquivo</th>
                                                                <th>Tipo do Documento</th>
                                                                <th>Data de Upload</th>
                                                                <th>Ações</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            @foreach (var file in Model.UploadedFiles)
                                                            {
                                                                <tr>
                                                                    <td>@file.NOMEARQUIVO</td>
                                                                    <td>@file.TIPODOCUMENTO</td>
                                                                    <td>@file.HORARIOUPLOAD.ToString("dd/MM/yyyy HH:mm")</td>
                                                                    <td>
                                                                        <a asp-page-handler="Download" asp-route-filePath="@file.CAMINHOARQUIVO" class="btn btn-success btn-sm">Download</a>
                                                                        <form method="post" asp-page-handler="Delete" asp-route-id="@file.ID" class="d-inline">
                                                                            <button type="submit" class="btn btn-danger btn-sm">Excluir</button>
                                                                        </form>
                                                                    </td>
                                                                </tr>
                                                            }
                                                        </tbody>
                                                    </table>
                                                }
                                                else
                                                {
                                                    <div class="text-center text-danger">Nenhum Documento Enviado</div>
                                                }
                                            </div>
                                            <div class="col-md-4"></div> <!-- Empty column for spacing -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
}

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
    <script type="text/javascript">
        function showSuccessMessage() {
            alert("Dados Enviados para Analise com Sucesso");
            return true;
        }

        function setValidationMessage(fieldId, message) {
            var field = document.getElementById(fieldId);
            var validationSpan = field.nextElementSibling;
            if (validationSpan && validationSpan.classList.contains('text-danger')) {
                validationSpan.innerText = message;
            }
        }

        function validateField(fieldId, validationType = 'default') {
            var field = document.getElementById(fieldId);
            if (field) {
                var value = field.value.trim();
                if (validationType === 'default' && !value) {
                    setValidationMessage(fieldId, "Campo Precisa ser preenchido");
                    field.focus();
                    return false;
               } else if (validationType === '9digitos' && !/^\d{9}$/.test(value)) {
                    setValidationMessage(fieldId, "Campo deve conter exatamente 9 dígitos");
                    field.focus();
                    return false;
                } else if (validationType === '7digitos' && !/^\d{7}$/.test(value)) {
                    setValidationMessage(fieldId, "Campo deve conter exatamente 7 dígitos");
                    field.focus();
                    return false;
                } else if (validationType === '8digitos' && !/^\d{8}$/.test(value)) {
                    setValidationMessage(fieldId, "Campo deve conter exatamente 8 dígitos");
                    field.focus();
                    return false;
                } else if (validationType === 'digits8or9' && !/^\d{8,9}$/.test(value)) {
                    setValidationMessage(fieldId, "Campo deve conter exatamente 8 ou 9 dígitos");
                    field.focus();
                    return false;
                } else if (validationType === 'digits' && !/^\d+$/.test(value)) {
                    setValidationMessage(fieldId, "Campo deve conter apenas dígitos");
                    field.focus();
                    return false;
                } else if (validationType === '14digits' && !/^\d{14}$/.test(value)) {
                    setValidationMessage(fieldId, "Campo deve conter exatamente 14 dígitos");
                    field.focus();
                    return false;
                } else if (validationType === '2digits' && !/^\d{2}$/.test(value)) {
                    setValidationMessage(fieldId, "Campo deve conter exatamente 2 dígitos");
                    field.focus();
                    return false;
                } else {
                    setValidationMessage(fieldId, ""); // Clear validation message
                }
            }
            return true;
        }

        function validateRazaoSocial() { return validateField("Fornecedor_RAZAOSOCIAL"); }
        function validateFantasia() { return validateField("Fornecedor_FANTASIA"); }
        function validateIE() { return validateField("Fornecedor_IE", '9digitos'); }
        function validateCNAE() { return validateField("Fornecedor_CNAE", '7digitos'); }
        function validateCEP() { return validateField("Fornecedor_CEP", '8digitos'); }
        function validateBairro() { return validateField("Fornecedor_BAIRRO"); }
        function validateCidade() { return validateField("Fornecedor_CIDADE"); }
        function validateLogradouro() { return validateField("Fornecedor_LOGRADOURO"); }
        function validateAgencia() { return validateField("Agencia", 'digits'); }
        function validateNumeroConta() { return validateField("NumeroConta", 'digits'); }
        function validateCNPJContaTitular() { return validateField("CNPJContaTitular", '14digits'); }
        function validateEmailVendedor() { return validateField("EMAILVENDEDOR", 'email'); }
        function validateEmailGerente() { return validateField("EMAILGERENTE", 'email'); }
        function validateEmailRespFinanceiro() { return validateField("EMAILRESPFINANCEIRO", 'email'); }

        // Add the onblur event listeners for the Contatos fields
        function validateContatoVendedor() { return validateField("CONTATOVENDEDOR"); }
        function validateDDDVendedor() { return validateField("DDDVENDEDOR", '2digits'); }
        function validateTelefoneVendedor() { return validateField("TELEFONEVENDEDOR", 'digits8or9'); }
        function validateEmailVendedor() { return validateField("EMAILVENDEDOR"); }
        function validateContatoGerente() { return validateField("CONTATOGERENTE"); }
        function validateDDDGereente() { return validateField("DDDGERENTE", '2digits'); }
        function validateTelefoneGerente() { return validateField("TELEFONEGERENTE", 'digits8or9'); }
        function validateEmailGerente() { return validateField("EMAILGERENTE"); }
        function validateResponsavelFinanceiro() { return validateField("RESPONSAVELFINANCEIRO"); }
        function validateDDDRespFinanceiro() { return validateField("DDDRESPFINANCEIRO", '2digits'); }
        function validateTelefoneRespFinanceiro() { return validateField("TELEFONERESPFINANCEIRO", 'digits8or9'); }
        function validateEmailRespFinanceiro() { return validateField("EMAILRESPFINANCEIRO"); }
        function validateDDDTelefoneFixoEmpresa() { return validateField("DDDTELEFONEFIXOEMPRESA", '2digits'); }
        function validateTelefoneFixoEmpresa() { return validateField("TELEFONEFIXOEMPRESA", 'digits8or9'); }

       // function validateDescricaoAvaliacao() { return validateField("DescricaoAvaliacao"); }
       // function validateAtividadeEmpresaForn() { return validateField("AtividadeEmpresaForn"); }
       // function validateOrgaoFiscalizacaoForn() { return validateField("OrgaoFiscalizacaoForn"); }
       // function validateNumRegistroForn() { return validateField("NumRegistroForn"); }
       // function validateResponsavelTecnico() { return validateField("ResponsavelTecnico"); }
        //function validateDDDTECNICO() { return validateField("DDDTECNICO", '2digits'); }
        //function validateTELEFONETECNICO() { return validateField("TELEFONETECNICO", 'digits8or9'); }
        //function validateEMAILTECNICO() { return validateField("EMAILTECNICO", 'email'); }



        function validateSelect(selectId) {
            var select = document.getElementById(selectId);
            if (select && select.value === "") {
                setValidationMessage(selectId, "Esse campo não pode ficar em branco");
                select.focus();
                return false;
            } else {
                setValidationMessage(selectId, ""); // Clear validation message
            }
            return true;
        }

        function fetchAddress() {
            var cep = document.getElementById("Fornecedor_CEP").value.replace(/\D/g, ''); // Remove non-digit characters
            if (cep.length === 8) {
                fetch(`https://viacep.com.br/ws/${cep}/json/`)
                    .then(response => response.json())
                    .then(data => {
                        if (!data.erro) {
                            document.getElementById("Fornecedor_LOGRADOURO").value = data.logradouro;
                            document.getElementById("Fornecedor_BAIRRO").value = data.bairro;
                            document.getElementById("Fornecedor_CIDADE").value = data.localidade;
                            document.getElementById("Fornecedor_UF").value = data.uf;
                        }
                    })
                    .catch(error => {
                        console.error('Error fetching address:', error);
                        alert("Erro ao buscar endereço.");
                    });
            }
        }

        // Initialize card visibility on page load
        document.addEventListener('DOMContentLoaded', function () {
            toggleSegurancaAlimentosCard();
        });

        function toggleSegurancaAlimentosCard() {
            var fornecedorAlimentos = document.getElementById("Fornecedor_FORNECEDORALIMENTOS").value;
            var segurancaAlimentosCard = document.getElementById("SegurancaAlimentos");

            if (fornecedorAlimentos === "Alimentos Não Industrializados") {
                segurancaAlimentosCard.style.display = "block";
            } else {
                segurancaAlimentosCard.style.display = "none";
            }
        }

        // Make Enter key act like Tab in the form
        document.addEventListener('keydown', function (event) {
            if (event.key === "Enter") {
                event.preventDefault(); // Prevent default Enter behavior
                // Find the next focusable element
                var currentElement = event.target;
                var focusableElements = document.querySelectorAll('button, [href], input, select, textarea');
                var currentIndex = Array.from(focusableElements).indexOf(currentElement);
                var nextIndex = (currentIndex + 1) % focusableElements.length;
                focusableElements[nextIndex].focus();
            }
        });


    </script>
}
